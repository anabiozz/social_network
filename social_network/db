create database social_network;

CREATE TABLE users ( 
user_id INT(10) UNSIGNED NOT NULL AUTO_INCREMENT,
user_nickname VARCHAR(32) NOT NULL,
user_first VARCHAR(32) NOT NULL,
user_last VARCHAR(32) NOT NULL,
user_email VARCHAR(128) NOT NULL,
PRIMARY KEY(user_id),
UNIQUE INDEX user_nickname(user_nickname));

create table users_relationships (
users_relationship_id INT(13) not null,
from_user_id INT(10) not null, to_user_id INT(10) unsigned not null,
users_relationship_type VARCHAR(10) not null,
users_relationship_timestamp DATETIME not null default CURRENT_TIMESTAMP,
primary key(users_relationship_id),
index from_user_id(from_user_id),
index to_user_id(to_user_id),
index from_user_id_to_user_id(from_user_id, to_user_id),
index from_user_id_to_user_id_users_relationship_type(from_user_id, to_user_id, users_relationship_type));

--explicit_defaults_for_timestamp

#send POST request
curl http://localhost:8080/api/users --data "user=almex&email=almex@gmail.com&first=alex&last=bezrukov"
